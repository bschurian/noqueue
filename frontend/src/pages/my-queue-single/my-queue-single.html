<!--
  Generated template for the MyQueueSingle page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color="primary">
    <ion-title>My Queue</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <p *ngIf="error">{{errorMessage}}</p>
  <ion-item>
    {{shopName}}
  </ion-item>
  <ion-list>
    <ion-item>
      <ion-label>Queue open</ion-label>
      <ion-toggle [(ngModel)]="open"></ion-toggle>
    </ion-item>
    <ion-item>
      <ion-label>Prevent from Joining</ion-label>
      <ion-toggle [(ngModel)]="preventJoining" disabled="{{open===false}}"></ion-toggle>
    </ion-item>
  </ion-list>

  <ion-list>
    <ion-item-divider color="light">Clients</ion-item-divider>
    <ion-item *ngFor="let user of users">
        {{user.nutzerName}}
      <ion-badge *ngIf="user.nutzerName === firstClient && firstStarted === false" color="secondary" item-right (click)="start()">Start</ion-badge>
      <ion-badge *ngIf="user.nutzerName === firstClient && firstStarted" color="danger" item-right (click)="end()">End</ion-badge>
    </ion-item>
  </ion-list>

</ion-content>
